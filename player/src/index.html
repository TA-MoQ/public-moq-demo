
<!DOCTYPE html>
<html>
  <head>
    <script type="module" src="index.ts"></script>
    <meta charset="UTF-8" />
    <title>WARP</title>
    <link href="https://api.fontshare.com/v2/css?f[]=satoshi@300&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="index.css" type="text/css">
    <link rel="stylesheet" href="player.css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="appsettings.js"></script>
  </head>
  <body class="bg-slate-900 px-4">
    <header class="w-full p-4 flex justify-between">
        <h1 class="text-gray-100 font-semibold text-3xl lg:text-5xl xl:text-7xl">QUIC Testbed</h1>
        <a class="w-10 h-10 lg:w-16 lg:h-16" href="https://github.com/TugasAkhir-QUIC/public-moq-demo" target="_blank">
          <img src="assets/github-mark-white.svg" class="github_logo" />
        </a>
    </header>
    <main id="main w-screen pb-8">
      <section class="w-full flex flex-col lg:flex-row gap-x-4 gap-y-4">
        <div id="player w-full">
          <div id="screen" class="relative lg:w-[50vw]">
            <video id="vid" controls></video>
          </div>

          
            <div id="controls" class="flex justify-between w-full">
              <button type="button" id="start">Start</button>
              <button type="button" id="live" disabled>Go Live</button>

              <select id="throttles" disabled>
                <option>Throttle to:</option>
              </select>

              <select id="resolutions" disabled>
                <option>Set resolution to:</option>
              </select>
              <button type="button" id="continue_streaming" data-status="streaming" disabled>Pause Streaming</button>
              <!-- <button type="button" id="active_bw_test">Active BW Test</button>
              <button type="button" id="test_datagram">Test Datagram</button>
              <button type="button" id="test_stream">Test Stream</button>
              <button type="button" id="test_datagram2">
                Test Datagram Video
              </button> -->
              <!-- <button type="button" id="test_stream2">Test Stream Video</button> -->
              <select name="category" id="category" disabled>
                <option value="0">Stream</option>
                <option value="1">Datagram</option>
                <option value="2">Hybrid</option>
                <option value="3" selected>Auto</option>
              </select>
            </div>
            <!-- <a
              href="https://github.com/streaming-university/public-moq-demo"
              target="_blank"
            >
              <img src="assets/github-mark-white.svg" class="github_logo" />
            </a> -->
        </div>
        <div id="right_col" class="text-gray-100 w-1/2">
          <div id="stats" class="text-lg lg:text-xl">
            <label class="audio label">Audio Buffer: <span class="seconds"></span></label>
            <div class="audio buffer">
              <div class="fill"></div>
            </div>

            <label class="video label">Video Buffer: <span class="seconds"></span></label>
            <div class="video buffer">
              <div class="fill"></div>
            </div>

            <label>Server Reported Bandwidth</label>
            <div class="server_bw"></div>
            <!-- <label>QUIC Stream: SWMA / IFA</label>
            <div class="swma_threshold"></div> -->
            <label>Segment Chunk Latency</label>
            <div class="chunk_latency"></div>
            <label>SWMA Chunk Latency</label>
            <div class="swma_chunk_latency"></div>
            <label>Overall Chunk Throughput</label>
            <div class="chunk_throughput"></div>
            <label>Total Video Chunk Volume</label>
            <div class="total_chunk_volume"></div>
            <label>Time Elapsed</label>
            <div class="elapsed_time"></div>
            <label>Current QUIC Type</label>
            <div class="quic_type"></div>
            <label>Throttle</label>
            <div id="throttle">None</div>
          </div>
          <div id="repo_info"></div>
        </div>
      </section>
      <div class="plots">
        <div class="mt-12 grid-plot flex flex-col lg:flex-row justify-center lg:justify-between w-full gap-y-4 px-4 lg:px-0">
          <div id="plot"></div>
          <div id="plot_latency"></div>
          <div id="plot_throughput"></div>
        </div>
        <a href="javascript: void 0" onclick="" id="toggle_log">Show Logs</a>
        <div id="log">
          <h4>Log</h4>
          <div id="log_content"></div>
        </div>
      </div>
    </main>
  </body>
</html>
